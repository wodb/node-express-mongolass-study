{"date":"Fri Jul 14 2017 17:35:05 GMT+0800 (中国标准时间)","process":{"pid":5672,"uid":null,"gid":null,"cwd":"D:\\study\\study-example\\node.js\\day07","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v6.9.1","argv":["C:\\Program Files\\nodejs\\node.exe","D:\\study\\study-example\\node.js\\day07\\index"],"memoryUsage":{"rss":54398976,"heapTotal":34701312,"heapUsed":27586096}},"os":{"loadavg":[0,0,0],"uptime":2096422.2397906},"trace":[{"column":11,"file":"_http_outgoing.js","function":"ServerResponse.OutgoingMessage.setHeader","line":356,"method":"setHeader","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\response.js","function":"ServerResponse.header","line":730,"method":"header","native":false},{"column":12,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\response.js","function":"ServerResponse.send","line":170,"method":"send","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\response.js","function":"done","line":967,"method":null,"native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\ejs\\lib\\ejs.js","function":"tryHandleCache","line":208,"method":null,"native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\ejs\\lib\\ejs.js","function":"View.exports.renderFile [as engine]","line":412,"method":"renderFile [as engine]","native":false},{"column":8,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\view.js","function":"View.render","line":128,"method":"render","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\application.js","function":"tryRender","line":640,"method":null,"native":false},{"column":3,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\application.js","function":"EventEmitter.render","line":592,"method":"render","native":false},{"column":7,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\response.js","function":"ServerResponse.render","line":971,"method":"render","native":false},{"column":20,"file":"D:\\study\\study-example\\node.js\\day07\\routers\\index.js","function":null,"line":12,"method":null,"native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"next","line":275,"method":null,"native":false}],"stack":["Error: Can't set headers after they are sent.","    at ServerResponse.OutgoingMessage.setHeader (_http_outgoing.js:356:11)","    at ServerResponse.header (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\response.js:730:10)","    at ServerResponse.send (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\response.js:170:12)","    at done (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\response.js:967:10)","    at tryHandleCache (D:\\study\\study-example\\node.js\\day07\\node_modules\\ejs\\lib\\ejs.js:208:10)","    at View.exports.renderFile [as engine] (D:\\study\\study-example\\node.js\\day07\\node_modules\\ejs\\lib\\ejs.js:412:10)","    at View.render (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\view.js:128:8)","    at tryRender (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\application.js:640:10)","    at EventEmitter.render (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\application.js:592:3)","    at ServerResponse.render (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\response.js:971:7)","    at D:\\study\\study-example\\node.js\\day07\\routers\\index.js:12:20","    at Layer.handle [as handle_request] (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js:95:5)","    at trim_prefix (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:317:13)","    at D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:284:7","    at Function.process_params (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:335:12)","    at next (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:275:10)"],"req":{"url":"/postsposts","headers":{"host":"localhost:3000","connection":"keep-alive","pragma":"no-cache","cache-control":"no-cache","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3095.5 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8","accept-encoding":"gzip, deflate, br","accept-language":"zh-CN,zh;q=0.8","cookie":"Webstorm-d18a402d=9ba8e4c2-8d28-44b5-9926-62b3bc2e1aa0; myblog=s%3Ag4gvtSQ8W-HbI-QUyqXgZ13bAeIbGnw3.T8nFOLJMQvvMPBfMsAEaiGhANLH%2FgCjWQxWQFkjDmJ4"},"method":"GET","httpVersion":"1.1","originalUrl":"/posts","query":{}},"level":"error","message":"middlewareError","timestamp":"2017-07-14T09:35:05.583Z"}
{"date":"Fri Jul 14 2017 17:35:17 GMT+0800 (中国标准时间)","process":{"pid":5672,"uid":null,"gid":null,"cwd":"D:\\study\\study-example\\node.js\\day07","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v6.9.1","argv":["C:\\Program Files\\nodejs\\node.exe","D:\\study\\study-example\\node.js\\day07\\index"],"memoryUsage":{"rss":50982912,"heapTotal":34701312,"heapUsed":27790152}},"os":{"loadavg":[0,0,0],"uptime":2096434.398744},"trace":[{"column":11,"file":"_http_outgoing.js","function":"ServerResponse.OutgoingMessage.setHeader","line":356,"method":"setHeader","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\response.js","function":"ServerResponse.header","line":730,"method":"header","native":false},{"column":12,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\response.js","function":"ServerResponse.send","line":170,"method":"send","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\response.js","function":"done","line":967,"method":null,"native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\ejs\\lib\\ejs.js","function":"tryHandleCache","line":208,"method":null,"native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\ejs\\lib\\ejs.js","function":"View.exports.renderFile [as engine]","line":412,"method":"renderFile [as engine]","native":false},{"column":8,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\view.js","function":"View.render","line":128,"method":"render","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\application.js","function":"tryRender","line":640,"method":null,"native":false},{"column":3,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\application.js","function":"EventEmitter.render","line":592,"method":"render","native":false},{"column":7,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\response.js","function":"ServerResponse.render","line":971,"method":"render","native":false},{"column":20,"file":"D:\\study\\study-example\\node.js\\day07\\routers\\index.js","function":null,"line":12,"method":null,"native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"trim_prefix","line":317,"method":null,"native":false},{"column":7,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":335,"method":"process_params","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"next","line":275,"method":null,"native":false}],"stack":["Error: Can't set headers after they are sent.","    at ServerResponse.OutgoingMessage.setHeader (_http_outgoing.js:356:11)","    at ServerResponse.header (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\response.js:730:10)","    at ServerResponse.send (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\response.js:170:12)","    at done (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\response.js:967:10)","    at tryHandleCache (D:\\study\\study-example\\node.js\\day07\\node_modules\\ejs\\lib\\ejs.js:208:10)","    at View.exports.renderFile [as engine] (D:\\study\\study-example\\node.js\\day07\\node_modules\\ejs\\lib\\ejs.js:412:10)","    at View.render (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\view.js:128:8)","    at tryRender (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\application.js:640:10)","    at EventEmitter.render (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\application.js:592:3)","    at ServerResponse.render (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\response.js:971:7)","    at D:\\study\\study-example\\node.js\\day07\\routers\\index.js:12:20","    at Layer.handle [as handle_request] (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js:95:5)","    at trim_prefix (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:317:13)","    at D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:284:7","    at Function.process_params (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:335:12)","    at next (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:275:10)"],"req":{"url":"/postsposts?author=596464d84d6e472614cd804b","headers":{"host":"localhost:3000","connection":"keep-alive","pragma":"no-cache","cache-control":"no-cache","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3095.5 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8","referer":"http://localhost:3000/posts","accept-encoding":"gzip, deflate, br","accept-language":"zh-CN,zh;q=0.8","cookie":"Webstorm-d18a402d=9ba8e4c2-8d28-44b5-9926-62b3bc2e1aa0; myblog=s%3Ag4gvtSQ8W-HbI-QUyqXgZ13bAeIbGnw3.T8nFOLJMQvvMPBfMsAEaiGhANLH%2FgCjWQxWQFkjDmJ4"},"method":"GET","httpVersion":"1.1","originalUrl":"/posts?author=596464d84d6e472614cd804b","query":{"author":"596464d84d6e472614cd804b"}},"level":"error","message":"middlewareError","timestamp":"2017-07-14T09:35:17.738Z"}
{"date":"Fri Jul 14 2017 17:51:49 GMT+0800 (中国标准时间)","process":{"pid":10424,"uid":null,"gid":null,"cwd":"D:\\study\\study-example\\node.js\\day07","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v6.9.1","argv":["C:\\Program Files\\nodejs\\node.exe","D:\\study\\study-example\\node.js\\day07\\index"],"memoryUsage":{"rss":53936128,"heapTotal":35749888,"heapUsed":28333184}},"os":{"loadavg":[0,0,0],"uptime":2097425.9373934},"trace":[{"column":11,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass-plugin-populate\\index.js","function":"Query.bindPopulate","line":16,"method":"bindPopulate","native":false},{"column":25,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass-plugin-populate\\index.js","function":"Query.afterFind","line":7,"method":"afterFind","native":false},{"column":44,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js","function":null,"line":173,"method":null,"native":false},{"column":null,"file":null,"function":"next","line":null,"method":null,"native":true},{"column":19,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js","function":"onFulfilled","line":65,"method":null,"native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js","function":null,"line":54,"method":null,"native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js","function":"co","line":50,"method":null,"native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js","function":"Query.execAfterPlugins","line":169,"method":"execAfterPlugins","native":false},{"column":42,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js","function":"Promise.resolve.then.then.then.then.result","line":76,"method":"result","native":false},{"column":23,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\util.js","function":"tryCatcher","line":16,"method":null,"native":false},{"column":31,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromiseFromHandler","line":512,"method":"_settlePromiseFromHandler","native":false},{"column":18,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromise","line":569,"method":"_settlePromise","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromise0","line":614,"method":"_settlePromise0","native":false},{"column":18,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromises","line":693,"method":"_settlePromises","native":false},{"column":16,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js","function":"Async._drainQueue","line":133,"method":"_drainQueue","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js","function":"Async._drainQueues","line":143,"method":"_drainQueues","native":false},{"column":16,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js","function":"Model.find","line":108,"method":"find","native":false},{"column":4,"file":"D:\\study\\study-example\\node.js\\day07\\modules\\comments.js","function":"Object.getComments","line":31,"method":"getComments","native":false},{"column":16,"file":"D:\\study\\study-example\\node.js\\day07\\routers\\posts.js","function":"router.get","line":63,"method":"get","native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js","function":"next","line":137,"method":null,"native":false},{"column":3,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js","function":"Route.dispatch","line":112,"method":"dispatch","native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":22,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":null,"line":281,"method":null,"native":false},{"column":14,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"param","line":354,"method":null,"native":false},{"column":14,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"param","line":365,"method":null,"native":false},{"column":3,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":410,"method":"process_params","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"next","line":275,"method":null,"native":false},{"column":3,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"Function.handle","line":174,"method":"handle","native":false},{"column":12,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"trim_prefix","line":317,"method":null,"native":false}],"stack":["TypeError: No .populate path or model","    at Query.bindPopulate (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass-plugin-populate\\index.js:16:11)","    at Query.afterFind (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass-plugin-populate\\index.js:7:25)","    at D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js:173:44","    at next (native)","    at onFulfilled (D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js:65:19)","    at D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js:54:5","    at co (D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js:50:10)","    at Query.execAfterPlugins (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js:169:10)","    at Promise.resolve.then.then.then.then.result (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js:76:42)","    at tryCatcher (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\util.js:16:23)","    at Promise._settlePromiseFromHandler (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:512:31)","    at Promise._settlePromise (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:569:18)","    at Promise._settlePromise0 (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:614:10)","    at Promise._settlePromises (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:693:18)","    at Async._drainQueue (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js:133:16)","    at Async._drainQueues (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js:143:10)\r","----- Mongolass error stack -----\r","Error","    at Model.find (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js:108:16)","    at Object.getComments (D:\\study\\study-example\\node.js\\day07\\modules\\comments.js:31:4)","    at router.get (D:\\study\\study-example\\node.js\\day07\\routers\\posts.js:63:16)","    at Layer.handle [as handle_request] (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js:95:5)","    at next (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js:137:13)","    at Route.dispatch (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js:112:3)","    at Layer.handle [as handle_request] (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js:95:5)","    at D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:281:22","    at param (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:354:14)","    at param (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:365:14)","    at Function.process_params (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:410:3)","    at next (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:275:10)","    at Function.handle (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:174:3)","    at router (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:47:12)","    at Layer.handle [as handle_request] (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js:95:5)","    at trim_prefix (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:317:13)"],"req":{"url":"/posts/5964652fe4d6962d3c5c45b9","headers":{"host":"localhost:3000","connection":"keep-alive","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3095.5 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8","referer":"http://localhost:3000/posts","accept-encoding":"gzip, deflate, br","accept-language":"zh-CN,zh;q=0.8","cookie":"Webstorm-d18a402d=9ba8e4c2-8d28-44b5-9926-62b3bc2e1aa0; myblog=s%3Ag4gvtSQ8W-HbI-QUyqXgZ13bAeIbGnw3.T8nFOLJMQvvMPBfMsAEaiGhANLH%2FgCjWQxWQFkjDmJ4"},"method":"GET","httpVersion":"1.1","originalUrl":"/posts/5964652fe4d6962d3c5c45b9","query":{}},"level":"error","message":"middlewareError","timestamp":"2017-07-14T09:51:49.281Z"}
{"date":"Fri Jul 14 2017 17:51:58 GMT+0800 (中国标准时间)","process":{"pid":10424,"uid":null,"gid":null,"cwd":"D:\\study\\study-example\\node.js\\day07","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v6.9.1","argv":["C:\\Program Files\\nodejs\\node.exe","D:\\study\\study-example\\node.js\\day07\\index"],"memoryUsage":{"rss":51138560,"heapTotal":34701312,"heapUsed":28483952}},"os":{"loadavg":[0,0,0],"uptime":2097435.1331224},"trace":[{"column":11,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass-plugin-populate\\index.js","function":"Query.bindPopulate","line":16,"method":"bindPopulate","native":false},{"column":25,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass-plugin-populate\\index.js","function":"Query.afterFind","line":7,"method":"afterFind","native":false},{"column":44,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js","function":null,"line":173,"method":null,"native":false},{"column":null,"file":null,"function":"next","line":null,"method":null,"native":true},{"column":19,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js","function":"onFulfilled","line":65,"method":null,"native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js","function":null,"line":54,"method":null,"native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js","function":"co","line":50,"method":null,"native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js","function":"Query.execAfterPlugins","line":169,"method":"execAfterPlugins","native":false},{"column":42,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js","function":"Promise.resolve.then.then.then.then.result","line":76,"method":"result","native":false},{"column":23,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\util.js","function":"tryCatcher","line":16,"method":null,"native":false},{"column":31,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromiseFromHandler","line":512,"method":"_settlePromiseFromHandler","native":false},{"column":18,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromise","line":569,"method":"_settlePromise","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromise0","line":614,"method":"_settlePromise0","native":false},{"column":18,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromises","line":693,"method":"_settlePromises","native":false},{"column":16,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js","function":"Async._drainQueue","line":133,"method":"_drainQueue","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js","function":"Async._drainQueues","line":143,"method":"_drainQueues","native":false},{"column":16,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js","function":"Model.find","line":108,"method":"find","native":false},{"column":4,"file":"D:\\study\\study-example\\node.js\\day07\\modules\\comments.js","function":"Object.getComments","line":31,"method":"getComments","native":false},{"column":16,"file":"D:\\study\\study-example\\node.js\\day07\\routers\\posts.js","function":"router.get","line":63,"method":"get","native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js","function":"next","line":137,"method":null,"native":false},{"column":3,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js","function":"Route.dispatch","line":112,"method":"dispatch","native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":22,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":null,"line":281,"method":null,"native":false},{"column":14,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"param","line":354,"method":null,"native":false},{"column":14,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"param","line":365,"method":null,"native":false},{"column":3,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":410,"method":"process_params","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"next","line":275,"method":null,"native":false},{"column":3,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"Function.handle","line":174,"method":"handle","native":false},{"column":12,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"trim_prefix","line":317,"method":null,"native":false}],"stack":["TypeError: No .populate path or model","    at Query.bindPopulate (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass-plugin-populate\\index.js:16:11)","    at Query.afterFind (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass-plugin-populate\\index.js:7:25)","    at D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js:173:44","    at next (native)","    at onFulfilled (D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js:65:19)","    at D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js:54:5","    at co (D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js:50:10)","    at Query.execAfterPlugins (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js:169:10)","    at Promise.resolve.then.then.then.then.result (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js:76:42)","    at tryCatcher (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\util.js:16:23)","    at Promise._settlePromiseFromHandler (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:512:31)","    at Promise._settlePromise (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:569:18)","    at Promise._settlePromise0 (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:614:10)","    at Promise._settlePromises (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:693:18)","    at Async._drainQueue (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js:133:16)","    at Async._drainQueues (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js:143:10)\r","----- Mongolass error stack -----\r","Error","    at Model.find (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js:108:16)","    at Object.getComments (D:\\study\\study-example\\node.js\\day07\\modules\\comments.js:31:4)","    at router.get (D:\\study\\study-example\\node.js\\day07\\routers\\posts.js:63:16)","    at Layer.handle [as handle_request] (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js:95:5)","    at next (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js:137:13)","    at Route.dispatch (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js:112:3)","    at Layer.handle [as handle_request] (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js:95:5)","    at D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:281:22","    at param (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:354:14)","    at param (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:365:14)","    at Function.process_params (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:410:3)","    at next (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:275:10)","    at Function.handle (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:174:3)","    at router (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:47:12)","    at Layer.handle [as handle_request] (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js:95:5)","    at trim_prefix (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:317:13)"],"req":{"url":"/posts/596438ece9f896362c6f20d0","headers":{"host":"localhost:3000","connection":"keep-alive","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3095.5 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8","referer":"http://localhost:3000/posts?author=596342a723e6e41290026c69","accept-encoding":"gzip, deflate, br","accept-language":"zh-CN,zh;q=0.8","cookie":"Webstorm-d18a402d=9ba8e4c2-8d28-44b5-9926-62b3bc2e1aa0; myblog=s%3Ag4gvtSQ8W-HbI-QUyqXgZ13bAeIbGnw3.T8nFOLJMQvvMPBfMsAEaiGhANLH%2FgCjWQxWQFkjDmJ4"},"method":"GET","httpVersion":"1.1","originalUrl":"/posts/596438ece9f896362c6f20d0","query":{}},"level":"error","message":"middlewareError","timestamp":"2017-07-14T09:51:58.472Z"}
{"date":"Fri Jul 14 2017 17:52:13 GMT+0800 (中国标准时间)","process":{"pid":10424,"uid":null,"gid":null,"cwd":"D:\\study\\study-example\\node.js\\day07","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v6.9.1","argv":["C:\\Program Files\\nodejs\\node.exe","D:\\study\\study-example\\node.js\\day07\\index"],"memoryUsage":{"rss":51941376,"heapTotal":34701312,"heapUsed":29399664}},"os":{"loadavg":[0,0,0],"uptime":2097450.2023575},"trace":[{"column":11,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass-plugin-populate\\index.js","function":"Query.bindPopulate","line":16,"method":"bindPopulate","native":false},{"column":25,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass-plugin-populate\\index.js","function":"Query.afterFind","line":7,"method":"afterFind","native":false},{"column":44,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js","function":null,"line":173,"method":null,"native":false},{"column":null,"file":null,"function":"next","line":null,"method":null,"native":true},{"column":19,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js","function":"onFulfilled","line":65,"method":null,"native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js","function":null,"line":54,"method":null,"native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js","function":"co","line":50,"method":null,"native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js","function":"Query.execAfterPlugins","line":169,"method":"execAfterPlugins","native":false},{"column":42,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js","function":"Promise.resolve.then.then.then.then.result","line":76,"method":"result","native":false},{"column":23,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\util.js","function":"tryCatcher","line":16,"method":null,"native":false},{"column":31,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromiseFromHandler","line":512,"method":"_settlePromiseFromHandler","native":false},{"column":18,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromise","line":569,"method":"_settlePromise","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromise0","line":614,"method":"_settlePromise0","native":false},{"column":18,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromises","line":693,"method":"_settlePromises","native":false},{"column":16,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js","function":"Async._drainQueue","line":133,"method":"_drainQueue","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js","function":"Async._drainQueues","line":143,"method":"_drainQueues","native":false},{"column":16,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js","function":"Model.find","line":108,"method":"find","native":false},{"column":4,"file":"D:\\study\\study-example\\node.js\\day07\\modules\\comments.js","function":"Object.getComments","line":31,"method":"getComments","native":false},{"column":16,"file":"D:\\study\\study-example\\node.js\\day07\\routers\\posts.js","function":"router.get","line":63,"method":"get","native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js","function":"next","line":137,"method":null,"native":false},{"column":3,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js","function":"Route.dispatch","line":112,"method":"dispatch","native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":22,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":null,"line":281,"method":null,"native":false},{"column":14,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"param","line":354,"method":null,"native":false},{"column":14,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"param","line":365,"method":null,"native":false},{"column":3,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":410,"method":"process_params","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"next","line":275,"method":null,"native":false},{"column":3,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"Function.handle","line":174,"method":"handle","native":false},{"column":12,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"trim_prefix","line":317,"method":null,"native":false}],"stack":["TypeError: No .populate path or model","    at Query.bindPopulate (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass-plugin-populate\\index.js:16:11)","    at Query.afterFind (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass-plugin-populate\\index.js:7:25)","    at D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js:173:44","    at next (native)","    at onFulfilled (D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js:65:19)","    at D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js:54:5","    at co (D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js:50:10)","    at Query.execAfterPlugins (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js:169:10)","    at Promise.resolve.then.then.then.then.result (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js:76:42)","    at tryCatcher (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\util.js:16:23)","    at Promise._settlePromiseFromHandler (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:512:31)","    at Promise._settlePromise (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:569:18)","    at Promise._settlePromise0 (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:614:10)","    at Promise._settlePromises (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:693:18)","    at Async._drainQueue (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js:133:16)","    at Async._drainQueues (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js:143:10)\r","----- Mongolass error stack -----\r","Error","    at Model.find (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js:108:16)","    at Object.getComments (D:\\study\\study-example\\node.js\\day07\\modules\\comments.js:31:4)","    at router.get (D:\\study\\study-example\\node.js\\day07\\routers\\posts.js:63:16)","    at Layer.handle [as handle_request] (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js:95:5)","    at next (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js:137:13)","    at Route.dispatch (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js:112:3)","    at Layer.handle [as handle_request] (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js:95:5)","    at D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:281:22","    at param (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:354:14)","    at param (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:365:14)","    at Function.process_params (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:410:3)","    at next (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:275:10)","    at Function.handle (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:174:3)","    at router (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:47:12)","    at Layer.handle [as handle_request] (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js:95:5)","    at trim_prefix (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:317:13)"],"req":{"url":"/posts/5964652fe4d6962d3c5c45b9","headers":{"host":"localhost:3000","connection":"keep-alive","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3095.5 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8","referer":"http://localhost:3000/posts","accept-encoding":"gzip, deflate, br","accept-language":"zh-CN,zh;q=0.8","cookie":"Webstorm-d18a402d=9ba8e4c2-8d28-44b5-9926-62b3bc2e1aa0; myblog=s%3Ag4gvtSQ8W-HbI-QUyqXgZ13bAeIbGnw3.T8nFOLJMQvvMPBfMsAEaiGhANLH%2FgCjWQxWQFkjDmJ4","if-none-match":"W/\"e38-cmd1r1jeoWrwmvGUqDCHG2BtvJE\""},"method":"GET","httpVersion":"1.1","originalUrl":"/posts/5964652fe4d6962d3c5c45b9","query":{}},"level":"error","message":"middlewareError","timestamp":"2017-07-14T09:52:13.541Z"}
{"date":"Fri Jul 14 2017 17:52:23 GMT+0800 (中国标准时间)","process":{"pid":10424,"uid":null,"gid":null,"cwd":"D:\\study\\study-example\\node.js\\day07","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v6.9.1","argv":["C:\\Program Files\\nodejs\\node.exe","D:\\study\\study-example\\node.js\\day07\\index"],"memoryUsage":{"rss":52039680,"heapTotal":36798464,"heapUsed":29514912}},"os":{"loadavg":[0,0,0],"uptime":2097460.5797386},"trace":[{"column":11,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass-plugin-populate\\index.js","function":"Query.bindPopulate","line":16,"method":"bindPopulate","native":false},{"column":25,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass-plugin-populate\\index.js","function":"Query.afterFind","line":7,"method":"afterFind","native":false},{"column":44,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js","function":null,"line":173,"method":null,"native":false},{"column":null,"file":null,"function":"next","line":null,"method":null,"native":true},{"column":19,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js","function":"onFulfilled","line":65,"method":null,"native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js","function":null,"line":54,"method":null,"native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js","function":"co","line":50,"method":null,"native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js","function":"Query.execAfterPlugins","line":169,"method":"execAfterPlugins","native":false},{"column":42,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js","function":"Promise.resolve.then.then.then.then.result","line":76,"method":"result","native":false},{"column":23,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\util.js","function":"tryCatcher","line":16,"method":null,"native":false},{"column":31,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromiseFromHandler","line":512,"method":"_settlePromiseFromHandler","native":false},{"column":18,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromise","line":569,"method":"_settlePromise","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromise0","line":614,"method":"_settlePromise0","native":false},{"column":18,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromises","line":693,"method":"_settlePromises","native":false},{"column":16,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js","function":"Async._drainQueue","line":133,"method":"_drainQueue","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js","function":"Async._drainQueues","line":143,"method":"_drainQueues","native":false},{"column":16,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js","function":"Model.find","line":108,"method":"find","native":false},{"column":4,"file":"D:\\study\\study-example\\node.js\\day07\\modules\\comments.js","function":"Object.getComments","line":31,"method":"getComments","native":false},{"column":16,"file":"D:\\study\\study-example\\node.js\\day07\\routers\\posts.js","function":"router.get","line":63,"method":"get","native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js","function":"next","line":137,"method":null,"native":false},{"column":3,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js","function":"Route.dispatch","line":112,"method":"dispatch","native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":22,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":null,"line":281,"method":null,"native":false},{"column":14,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"param","line":354,"method":null,"native":false},{"column":14,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"param","line":365,"method":null,"native":false},{"column":3,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":410,"method":"process_params","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"next","line":275,"method":null,"native":false},{"column":3,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"Function.handle","line":174,"method":"handle","native":false},{"column":12,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"trim_prefix","line":317,"method":null,"native":false}],"stack":["TypeError: No .populate path or model","    at Query.bindPopulate (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass-plugin-populate\\index.js:16:11)","    at Query.afterFind (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass-plugin-populate\\index.js:7:25)","    at D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js:173:44","    at next (native)","    at onFulfilled (D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js:65:19)","    at D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js:54:5","    at co (D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js:50:10)","    at Query.execAfterPlugins (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js:169:10)","    at Promise.resolve.then.then.then.then.result (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js:76:42)","    at tryCatcher (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\util.js:16:23)","    at Promise._settlePromiseFromHandler (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:512:31)","    at Promise._settlePromise (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:569:18)","    at Promise._settlePromise0 (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:614:10)","    at Promise._settlePromises (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:693:18)","    at Async._drainQueue (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js:133:16)","    at Async._drainQueues (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js:143:10)\r","----- Mongolass error stack -----\r","Error","    at Model.find (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js:108:16)","    at Object.getComments (D:\\study\\study-example\\node.js\\day07\\modules\\comments.js:31:4)","    at router.get (D:\\study\\study-example\\node.js\\day07\\routers\\posts.js:63:16)","    at Layer.handle [as handle_request] (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js:95:5)","    at next (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js:137:13)","    at Route.dispatch (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js:112:3)","    at Layer.handle [as handle_request] (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js:95:5)","    at D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:281:22","    at param (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:354:14)","    at param (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:365:14)","    at Function.process_params (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:410:3)","    at next (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:275:10)","    at Function.handle (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:174:3)","    at router (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:47:12)","    at Layer.handle [as handle_request] (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js:95:5)","    at trim_prefix (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:317:13)"],"req":{"url":"/posts/596462df4d6e472614cd804a","headers":{"host":"localhost:3000","connection":"keep-alive","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3095.5 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8","referer":"http://localhost:3000/posts?author=596342a723e6e41290026c69","accept-encoding":"gzip, deflate, br","accept-language":"zh-CN,zh;q=0.8","cookie":"Webstorm-d18a402d=9ba8e4c2-8d28-44b5-9926-62b3bc2e1aa0; myblog=s%3Ag4gvtSQ8W-HbI-QUyqXgZ13bAeIbGnw3.T8nFOLJMQvvMPBfMsAEaiGhANLH%2FgCjWQxWQFkjDmJ4"},"method":"GET","httpVersion":"1.1","originalUrl":"/posts/596462df4d6e472614cd804a","query":{}},"level":"error","message":"middlewareError","timestamp":"2017-07-14T09:52:23.919Z"}
{"date":"Fri Jul 21 2017 13:54:50 GMT+0800 (中国标准时间)","process":{"pid":864,"uid":null,"gid":null,"cwd":"D:\\study\\study-example\\node.js\\day07","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v6.9.1","argv":["C:\\Program Files\\nodejs\\node.exe","D:\\study\\study-example\\node.js\\day07\\index.js"],"memoryUsage":{"rss":50245632,"heapTotal":34701312,"heapUsed":28690320}},"os":{"loadavg":[0,0,0],"uptime":2688001.5382286},"trace":[{"column":11,"file":"D:\\study\\study-example\\node.js\\day07\\modules\\posts.js","function":"Query.afterFindOne","line":31,"method":"afterFindOne","native":false},{"column":44,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js","function":null,"line":173,"method":null,"native":false},{"column":null,"file":null,"function":"next","line":null,"method":null,"native":true},{"column":19,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js","function":"onFulfilled","line":65,"method":null,"native":false},{"column":23,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\util.js","function":"tryCatcher","line":16,"method":null,"native":false},{"column":31,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromiseFromHandler","line":512,"method":"_settlePromiseFromHandler","native":false},{"column":18,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromise","line":569,"method":"_settlePromise","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromiseCtx","line":606,"method":"_settlePromiseCtx","native":false},{"column":12,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js","function":"Async._drainQueue","line":138,"method":"_drainQueue","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js","function":"Async._drainQueues","line":143,"method":"_drainQueues","native":false},{"column":14,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js","function":"Immediate.Async.drainQueues","line":17,"method":"drainQueues","native":false},{"column":20,"file":"timers.js","function":"runCallback","line":637,"method":null,"native":false},{"column":5,"file":"timers.js","function":"tryOnImmediate","line":610,"method":null,"native":false},{"column":5,"file":"timers.js","function":"processImmediate [as _immediateCallback]","line":582,"method":null,"native":false},{"column":16,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js","function":"Model.findOne","line":108,"method":"findOne","native":false},{"column":4,"file":"D:\\study\\study-example\\node.js\\day07\\modules\\posts.js","function":"Object.getPostById","line":50,"method":"getPostById","native":false},{"column":13,"file":"D:\\study\\study-example\\node.js\\day07\\routers\\posts.js","function":"router.get","line":62,"method":"get","native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js","function":"next","line":137,"method":null,"native":false},{"column":3,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js","function":"Route.dispatch","line":112,"method":"dispatch","native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":22,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":null,"line":281,"method":null,"native":false},{"column":14,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"param","line":354,"method":null,"native":false},{"column":14,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"param","line":365,"method":null,"native":false},{"column":3,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":410,"method":"process_params","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"next","line":275,"method":null,"native":false},{"column":3,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"Function.handle","line":174,"method":"handle","native":false},{"column":12,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"trim_prefix","line":317,"method":null,"native":false}],"stack":["ReferenceError: CommentModel is not defined","    at Query.afterFindOne (D:\\study\\study-example\\node.js\\day07\\modules\\posts.js:31:11)","    at D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js:173:44","    at next (native)","    at onFulfilled (D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js:65:19)","    at tryCatcher (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\util.js:16:23)","    at Promise._settlePromiseFromHandler (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:512:31)","    at Promise._settlePromise (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:569:18)","    at Promise._settlePromiseCtx (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:606:10)","    at Async._drainQueue (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js:138:12)","    at Async._drainQueues (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js:143:10)","    at Immediate.Async.drainQueues (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js:17:14)","    at runCallback (timers.js:637:20)","    at tryOnImmediate (timers.js:610:5)","    at processImmediate [as _immediateCallback] (timers.js:582:5)\r","----- Mongolass error stack -----\r","Error","    at Model.findOne (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js:108:16)","    at Object.getPostById (D:\\study\\study-example\\node.js\\day07\\modules\\posts.js:50:4)","    at router.get (D:\\study\\study-example\\node.js\\day07\\routers\\posts.js:62:13)","    at Layer.handle [as handle_request] (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js:95:5)","    at next (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js:137:13)","    at Route.dispatch (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js:112:3)","    at Layer.handle [as handle_request] (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js:95:5)","    at D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:281:22","    at param (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:354:14)","    at param (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:365:14)","    at Function.process_params (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:410:3)","    at next (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:275:10)","    at Function.handle (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:174:3)","    at router (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:47:12)","    at Layer.handle [as handle_request] (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js:95:5)","    at trim_prefix (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:317:13)"],"req":{"url":"/posts/596488a37e9f3d1dcc10c3ef","headers":{"host":"localhost:3000","connection":"keep-alive","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3095.5 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8","referer":"http://localhost:3000/posts","accept-encoding":"gzip, deflate, br","accept-language":"zh-CN,zh;q=0.8","cookie":"Webstorm-d18a402d=9ba8e4c2-8d28-44b5-9926-62b3bc2e1aa0; myblog=s%3AxVnRZMr_b2Oy_6BVK_T_LHLyBBLLWof7.bh3Yo05fiqxOQktpPhDEWizYkbVbSbGpaqCP30OaxXE"},"method":"GET","httpVersion":"1.1","originalUrl":"/posts/596488a37e9f3d1dcc10c3ef","query":{}},"level":"error","message":"middlewareError","timestamp":"2017-07-21T05:54:50.656Z"}
{"date":"Fri Jul 21 2017 14:01:30 GMT+0800 (中国标准时间)","process":{"pid":10032,"uid":null,"gid":null,"cwd":"D:\\study\\study-example\\node.js\\day07","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v6.9.1","argv":["C:\\Program Files\\nodejs\\node.exe","D:\\study\\study-example\\node.js\\day07\\index.js"],"memoryUsage":{"rss":66228224,"heapTotal":51490816,"heapUsed":32040616}},"os":{"loadavg":[0,0,0],"uptime":2688401.8960662},"trace":[{"column":11,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass-plugin-populate\\index.js","function":"Query.bindPopulate","line":16,"method":"bindPopulate","native":false},{"column":25,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass-plugin-populate\\index.js","function":"Query.afterFind","line":7,"method":"afterFind","native":false},{"column":44,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js","function":null,"line":173,"method":null,"native":false},{"column":null,"file":null,"function":"next","line":null,"method":null,"native":true},{"column":19,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js","function":"onFulfilled","line":65,"method":null,"native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js","function":null,"line":54,"method":null,"native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js","function":"co","line":50,"method":null,"native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js","function":"Query.execAfterPlugins","line":169,"method":"execAfterPlugins","native":false},{"column":42,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js","function":"Promise.resolve.then.then.then.then.result","line":76,"method":"result","native":false},{"column":23,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\util.js","function":"tryCatcher","line":16,"method":null,"native":false},{"column":31,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromiseFromHandler","line":512,"method":"_settlePromiseFromHandler","native":false},{"column":18,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromise","line":569,"method":"_settlePromise","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromise0","line":614,"method":"_settlePromise0","native":false},{"column":18,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromises","line":693,"method":"_settlePromises","native":false},{"column":16,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js","function":"Async._drainQueue","line":133,"method":"_drainQueue","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js","function":"Async._drainQueues","line":143,"method":"_drainQueues","native":false},{"column":16,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js","function":"Model.find","line":108,"method":"find","native":false},{"column":4,"file":"D:\\study\\study-example\\node.js\\day07\\modules\\comments.js","function":"Object.getComments","line":31,"method":"getComments","native":false},{"column":16,"file":"D:\\study\\study-example\\node.js\\day07\\routers\\posts.js","function":"router.get","line":63,"method":"get","native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js","function":"next","line":137,"method":null,"native":false},{"column":3,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js","function":"Route.dispatch","line":112,"method":"dispatch","native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":22,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":null,"line":281,"method":null,"native":false},{"column":14,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"param","line":354,"method":null,"native":false},{"column":14,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"param","line":365,"method":null,"native":false},{"column":3,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":410,"method":"process_params","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"next","line":275,"method":null,"native":false},{"column":3,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"Function.handle","line":174,"method":"handle","native":false},{"column":12,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"trim_prefix","line":317,"method":null,"native":false}],"stack":["TypeError: No .populate path or model","    at Query.bindPopulate (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass-plugin-populate\\index.js:16:11)","    at Query.afterFind (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass-plugin-populate\\index.js:7:25)","    at D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js:173:44","    at next (native)","    at onFulfilled (D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js:65:19)","    at D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js:54:5","    at co (D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js:50:10)","    at Query.execAfterPlugins (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js:169:10)","    at Promise.resolve.then.then.then.then.result (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js:76:42)","    at tryCatcher (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\util.js:16:23)","    at Promise._settlePromiseFromHandler (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:512:31)","    at Promise._settlePromise (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:569:18)","    at Promise._settlePromise0 (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:614:10)","    at Promise._settlePromises (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:693:18)","    at Async._drainQueue (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js:133:16)","    at Async._drainQueues (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js:143:10)\r","----- Mongolass error stack -----\r","Error","    at Model.find (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js:108:16)","    at Object.getComments (D:\\study\\study-example\\node.js\\day07\\modules\\comments.js:31:4)","    at router.get (D:\\study\\study-example\\node.js\\day07\\routers\\posts.js:63:16)","    at Layer.handle [as handle_request] (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js:95:5)","    at next (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js:137:13)","    at Route.dispatch (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js:112:3)","    at Layer.handle [as handle_request] (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js:95:5)","    at D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:281:22","    at param (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:354:14)","    at param (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:365:14)","    at Function.process_params (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:410:3)","    at next (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:275:10)","    at Function.handle (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:174:3)","    at router (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:47:12)","    at Layer.handle [as handle_request] (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js:95:5)","    at trim_prefix (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:317:13)"],"req":{"url":"/posts/596488a37e9f3d1dcc10c3ef","headers":{"host":"localhost:3000","connection":"keep-alive","cache-control":"max-age=0","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3095.5 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8","referer":"http://localhost:3000/posts","accept-encoding":"gzip, deflate, br","accept-language":"zh-CN,zh;q=0.8","cookie":"Webstorm-d18a402d=9ba8e4c2-8d28-44b5-9926-62b3bc2e1aa0; myblog=s%3AxVnRZMr_b2Oy_6BVK_T_LHLyBBLLWof7.bh3Yo05fiqxOQktpPhDEWizYkbVbSbGpaqCP30OaxXE","if-none-match":"W/\"cb3-TK0oPynz4p2e6tJlhA3q+6PDhHQ\""},"method":"GET","httpVersion":"1.1","originalUrl":"/posts/596488a37e9f3d1dcc10c3ef","query":{}},"level":"error","message":"middlewareError","timestamp":"2017-07-21T06:01:31.015Z"}
{"date":"Fri Jul 21 2017 14:04:13 GMT+0800 (中国标准时间)","process":{"pid":10032,"uid":null,"gid":null,"cwd":"D:\\study\\study-example\\node.js\\day07","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v6.9.1","argv":["C:\\Program Files\\nodejs\\node.exe","D:\\study\\study-example\\node.js\\day07\\index.js"],"memoryUsage":{"rss":50704384,"heapTotal":34701312,"heapUsed":27034616}},"os":{"loadavg":[0,0,0],"uptime":2688564.0827164},"trace":[{"column":11,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass-plugin-populate\\index.js","function":"Query.bindPopulate","line":16,"method":"bindPopulate","native":false},{"column":25,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass-plugin-populate\\index.js","function":"Query.afterFind","line":7,"method":"afterFind","native":false},{"column":44,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js","function":null,"line":173,"method":null,"native":false},{"column":null,"file":null,"function":"next","line":null,"method":null,"native":true},{"column":19,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js","function":"onFulfilled","line":65,"method":null,"native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js","function":null,"line":54,"method":null,"native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js","function":"co","line":50,"method":null,"native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js","function":"Query.execAfterPlugins","line":169,"method":"execAfterPlugins","native":false},{"column":42,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js","function":"Promise.resolve.then.then.then.then.result","line":76,"method":"result","native":false},{"column":23,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\util.js","function":"tryCatcher","line":16,"method":null,"native":false},{"column":31,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromiseFromHandler","line":512,"method":"_settlePromiseFromHandler","native":false},{"column":18,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromise","line":569,"method":"_settlePromise","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromise0","line":614,"method":"_settlePromise0","native":false},{"column":18,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromises","line":693,"method":"_settlePromises","native":false},{"column":16,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js","function":"Async._drainQueue","line":133,"method":"_drainQueue","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js","function":"Async._drainQueues","line":143,"method":"_drainQueues","native":false},{"column":16,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js","function":"Model.find","line":108,"method":"find","native":false},{"column":4,"file":"D:\\study\\study-example\\node.js\\day07\\modules\\comments.js","function":"Object.getComments","line":31,"method":"getComments","native":false},{"column":16,"file":"D:\\study\\study-example\\node.js\\day07\\routers\\posts.js","function":"router.get","line":63,"method":"get","native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js","function":"next","line":137,"method":null,"native":false},{"column":3,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js","function":"Route.dispatch","line":112,"method":"dispatch","native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":22,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":null,"line":281,"method":null,"native":false},{"column":14,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"param","line":354,"method":null,"native":false},{"column":14,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"param","line":365,"method":null,"native":false},{"column":3,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":410,"method":"process_params","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"next","line":275,"method":null,"native":false},{"column":3,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"Function.handle","line":174,"method":"handle","native":false},{"column":12,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"trim_prefix","line":317,"method":null,"native":false}],"stack":["TypeError: No .populate path or model","    at Query.bindPopulate (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass-plugin-populate\\index.js:16:11)","    at Query.afterFind (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass-plugin-populate\\index.js:7:25)","    at D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js:173:44","    at next (native)","    at onFulfilled (D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js:65:19)","    at D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js:54:5","    at co (D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js:50:10)","    at Query.execAfterPlugins (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js:169:10)","    at Promise.resolve.then.then.then.then.result (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js:76:42)","    at tryCatcher (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\util.js:16:23)","    at Promise._settlePromiseFromHandler (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:512:31)","    at Promise._settlePromise (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:569:18)","    at Promise._settlePromise0 (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:614:10)","    at Promise._settlePromises (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:693:18)","    at Async._drainQueue (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js:133:16)","    at Async._drainQueues (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js:143:10)\r","----- Mongolass error stack -----\r","Error","    at Model.find (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js:108:16)","    at Object.getComments (D:\\study\\study-example\\node.js\\day07\\modules\\comments.js:31:4)","    at router.get (D:\\study\\study-example\\node.js\\day07\\routers\\posts.js:63:16)","    at Layer.handle [as handle_request] (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js:95:5)","    at next (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js:137:13)","    at Route.dispatch (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js:112:3)","    at Layer.handle [as handle_request] (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js:95:5)","    at D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:281:22","    at param (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:354:14)","    at param (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:365:14)","    at Function.process_params (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:410:3)","    at next (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:275:10)","    at Function.handle (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:174:3)","    at router (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:47:12)","    at Layer.handle [as handle_request] (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js:95:5)","    at trim_prefix (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:317:13)"],"req":{"url":"/posts/596488a37e9f3d1dcc10c3ef","headers":{"host":"localhost:3000","connection":"keep-alive","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3095.5 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8","referer":"http://localhost:3000/posts/","accept-encoding":"gzip, deflate, br","accept-language":"zh-CN,zh;q=0.8","cookie":"Webstorm-d18a402d=9ba8e4c2-8d28-44b5-9926-62b3bc2e1aa0; myblog=s%3AxVnRZMr_b2Oy_6BVK_T_LHLyBBLLWof7.bh3Yo05fiqxOQktpPhDEWizYkbVbSbGpaqCP30OaxXE","if-none-match":"W/\"e38-cmd1r1jeoWrwmvGUqDCHG2BtvJE\""},"method":"GET","httpVersion":"1.1","originalUrl":"/posts/596488a37e9f3d1dcc10c3ef","query":{}},"level":"error","message":"middlewareError","timestamp":"2017-07-21T06:04:13.199Z"}
{"date":"Fri Jul 21 2017 14:06:47 GMT+0800 (中国标准时间)","process":{"pid":18224,"uid":null,"gid":null,"cwd":"D:\\study\\study-example\\node.js\\day07","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v6.9.1","argv":["C:\\Program Files\\nodejs\\node.exe","D:\\study\\study-example\\node.js\\day07\\index.js"],"memoryUsage":{"rss":67321856,"heapTotal":51490816,"heapUsed":33368592}},"os":{"loadavg":[0,0,0],"uptime":2688718.5499913},"trace":[{"column":11,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass-plugin-populate\\index.js","function":"Query.bindPopulate","line":16,"method":"bindPopulate","native":false},{"column":25,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass-plugin-populate\\index.js","function":"Query.afterFind","line":7,"method":"afterFind","native":false},{"column":44,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js","function":null,"line":173,"method":null,"native":false},{"column":null,"file":null,"function":"next","line":null,"method":null,"native":true},{"column":19,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js","function":"onFulfilled","line":65,"method":null,"native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js","function":null,"line":54,"method":null,"native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js","function":"co","line":50,"method":null,"native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js","function":"Query.execAfterPlugins","line":169,"method":"execAfterPlugins","native":false},{"column":42,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js","function":"Promise.resolve.then.then.then.then.result","line":76,"method":"result","native":false},{"column":23,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\util.js","function":"tryCatcher","line":16,"method":null,"native":false},{"column":31,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromiseFromHandler","line":512,"method":"_settlePromiseFromHandler","native":false},{"column":18,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromise","line":569,"method":"_settlePromise","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromise0","line":614,"method":"_settlePromise0","native":false},{"column":18,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromises","line":693,"method":"_settlePromises","native":false},{"column":16,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js","function":"Async._drainQueue","line":133,"method":"_drainQueue","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js","function":"Async._drainQueues","line":143,"method":"_drainQueues","native":false},{"column":16,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js","function":"Model.find","line":108,"method":"find","native":false},{"column":4,"file":"D:\\study\\study-example\\node.js\\day07\\modules\\comments.js","function":"Object.getComments","line":32,"method":"getComments","native":false},{"column":16,"file":"D:\\study\\study-example\\node.js\\day07\\routers\\posts.js","function":"router.get","line":63,"method":"get","native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js","function":"next","line":137,"method":null,"native":false},{"column":3,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js","function":"Route.dispatch","line":112,"method":"dispatch","native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":22,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":null,"line":281,"method":null,"native":false},{"column":14,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"param","line":354,"method":null,"native":false},{"column":14,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"param","line":365,"method":null,"native":false},{"column":3,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":410,"method":"process_params","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"next","line":275,"method":null,"native":false},{"column":3,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"Function.handle","line":174,"method":"handle","native":false},{"column":12,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"trim_prefix","line":317,"method":null,"native":false}],"stack":["TypeError: No .populate path or model","    at Query.bindPopulate (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass-plugin-populate\\index.js:16:11)","    at Query.afterFind (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass-plugin-populate\\index.js:7:25)","    at D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js:173:44","    at next (native)","    at onFulfilled (D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js:65:19)","    at D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js:54:5","    at co (D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js:50:10)","    at Query.execAfterPlugins (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js:169:10)","    at Promise.resolve.then.then.then.then.result (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js:76:42)","    at tryCatcher (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\util.js:16:23)","    at Promise._settlePromiseFromHandler (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:512:31)","    at Promise._settlePromise (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:569:18)","    at Promise._settlePromise0 (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:614:10)","    at Promise._settlePromises (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:693:18)","    at Async._drainQueue (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js:133:16)","    at Async._drainQueues (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js:143:10)\r","----- Mongolass error stack -----\r","Error","    at Model.find (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js:108:16)","    at Object.getComments (D:\\study\\study-example\\node.js\\day07\\modules\\comments.js:32:4)","    at router.get (D:\\study\\study-example\\node.js\\day07\\routers\\posts.js:63:16)","    at Layer.handle [as handle_request] (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js:95:5)","    at next (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js:137:13)","    at Route.dispatch (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js:112:3)","    at Layer.handle [as handle_request] (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js:95:5)","    at D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:281:22","    at param (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:354:14)","    at param (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:365:14)","    at Function.process_params (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:410:3)","    at next (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:275:10)","    at Function.handle (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:174:3)","    at router (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:47:12)","    at Layer.handle [as handle_request] (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js:95:5)","    at trim_prefix (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:317:13)"],"req":{"url":"/posts/596488a37e9f3d1dcc10c3ef","headers":{"host":"localhost:3000","connection":"keep-alive","cache-control":"max-age=0","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3095.5 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8","referer":"http://localhost:3000/posts/","accept-encoding":"gzip, deflate, br","accept-language":"zh-CN,zh;q=0.8","cookie":"Webstorm-d18a402d=9ba8e4c2-8d28-44b5-9926-62b3bc2e1aa0; myblog=s%3AxVnRZMr_b2Oy_6BVK_T_LHLyBBLLWof7.bh3Yo05fiqxOQktpPhDEWizYkbVbSbGpaqCP30OaxXE","if-none-match":"W/\"e38-cmd1r1jeoWrwmvGUqDCHG2BtvJE\""},"method":"GET","httpVersion":"1.1","originalUrl":"/posts/596488a37e9f3d1dcc10c3ef","query":{}},"level":"error","message":"middlewareError","timestamp":"2017-07-21T06:06:47.668Z"}
{"date":"Fri Jul 21 2017 14:15:25 GMT+0800 (中国标准时间)","process":{"pid":17712,"uid":null,"gid":null,"cwd":"D:\\study\\study-example\\node.js\\day07","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v6.9.1","argv":["C:\\Program Files\\nodejs\\node.exe","D:\\study\\study-example\\node.js\\day07\\index.js"],"memoryUsage":{"rss":66514944,"heapTotal":51490816,"heapUsed":32171784}},"os":{"loadavg":[0,0,0],"uptime":2689236.3077519},"trace":[{"column":11,"file":"D:\\study\\study-example\\node.js\\day07\\modules\\posts.js","function":"Query.afterFindOne","line":31,"method":"afterFindOne","native":false},{"column":44,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js","function":null,"line":173,"method":null,"native":false},{"column":null,"file":null,"function":"next","line":null,"method":null,"native":true},{"column":19,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js","function":"onFulfilled","line":65,"method":null,"native":false},{"column":23,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\util.js","function":"tryCatcher","line":16,"method":null,"native":false},{"column":31,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromiseFromHandler","line":512,"method":"_settlePromiseFromHandler","native":false},{"column":18,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromise","line":569,"method":"_settlePromise","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromiseCtx","line":606,"method":"_settlePromiseCtx","native":false},{"column":12,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js","function":"Async._drainQueue","line":138,"method":"_drainQueue","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js","function":"Async._drainQueues","line":143,"method":"_drainQueues","native":false},{"column":14,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js","function":"Immediate.Async.drainQueues","line":17,"method":"drainQueues","native":false},{"column":20,"file":"timers.js","function":"runCallback","line":637,"method":null,"native":false},{"column":5,"file":"timers.js","function":"tryOnImmediate","line":610,"method":null,"native":false},{"column":5,"file":"timers.js","function":"processImmediate [as _immediateCallback]","line":582,"method":null,"native":false},{"column":16,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js","function":"Model.findOne","line":108,"method":"findOne","native":false},{"column":4,"file":"D:\\study\\study-example\\node.js\\day07\\modules\\posts.js","function":"Object.getPostById","line":50,"method":"getPostById","native":false},{"column":13,"file":"D:\\study\\study-example\\node.js\\day07\\routers\\posts.js","function":"router.get","line":62,"method":"get","native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js","function":"next","line":137,"method":null,"native":false},{"column":3,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js","function":"Route.dispatch","line":112,"method":"dispatch","native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":22,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":null,"line":281,"method":null,"native":false},{"column":14,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"param","line":354,"method":null,"native":false},{"column":14,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"param","line":365,"method":null,"native":false},{"column":3,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":410,"method":"process_params","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"next","line":275,"method":null,"native":false},{"column":3,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"Function.handle","line":174,"method":"handle","native":false},{"column":12,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"router","line":47,"method":null,"native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"trim_prefix","line":317,"method":null,"native":false}],"stack":["ReferenceError: CommentModel is not defined","    at Query.afterFindOne (D:\\study\\study-example\\node.js\\day07\\modules\\posts.js:31:11)","    at D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js:173:44","    at next (native)","    at onFulfilled (D:\\study\\study-example\\node.js\\day07\\node_modules\\co\\index.js:65:19)","    at tryCatcher (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\util.js:16:23)","    at Promise._settlePromiseFromHandler (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:512:31)","    at Promise._settlePromise (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:569:18)","    at Promise._settlePromiseCtx (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:606:10)","    at Async._drainQueue (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js:138:12)","    at Async._drainQueues (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js:143:10)","    at Immediate.Async.drainQueues (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js:17:14)","    at runCallback (timers.js:637:20)","    at tryOnImmediate (timers.js:610:5)","    at processImmediate [as _immediateCallback] (timers.js:582:5)\r","----- Mongolass error stack -----\r","Error","    at Model.findOne (D:\\study\\study-example\\node.js\\day07\\node_modules\\mongolass\\lib\\query.js:108:16)","    at Object.getPostById (D:\\study\\study-example\\node.js\\day07\\modules\\posts.js:50:4)","    at router.get (D:\\study\\study-example\\node.js\\day07\\routers\\posts.js:62:13)","    at Layer.handle [as handle_request] (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js:95:5)","    at next (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js:137:13)","    at Route.dispatch (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js:112:3)","    at Layer.handle [as handle_request] (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js:95:5)","    at D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:281:22","    at param (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:354:14)","    at param (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:365:14)","    at Function.process_params (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:410:3)","    at next (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:275:10)","    at Function.handle (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:174:3)","    at router (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:47:12)","    at Layer.handle [as handle_request] (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js:95:5)","    at trim_prefix (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:317:13)"],"req":{"url":"/posts/596488a37e9f3d1dcc10c3ef","headers":{"host":"localhost:3000","connection":"keep-alive","cache-control":"max-age=0","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3095.5 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8","referer":"http://localhost:3000/posts/","accept-encoding":"gzip, deflate, br","accept-language":"zh-CN,zh;q=0.8","cookie":"Webstorm-d18a402d=9ba8e4c2-8d28-44b5-9926-62b3bc2e1aa0; myblog=s%3AxVnRZMr_b2Oy_6BVK_T_LHLyBBLLWof7.bh3Yo05fiqxOQktpPhDEWizYkbVbSbGpaqCP30OaxXE","if-none-match":"W/\"e38-/7x57l8AiNl40Ijsv2FzU+u/5ZM\""},"method":"GET","httpVersion":"1.1","originalUrl":"/posts/596488a37e9f3d1dcc10c3ef","query":{}},"level":"error","message":"middlewareError","timestamp":"2017-07-21T06:15:25.427Z"}
{"date":"Fri Jul 21 2017 15:27:02 GMT+0800 (中国标准时间)","process":{"pid":13764,"uid":null,"gid":null,"cwd":"D:\\study\\study-example\\node.js\\day07","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v6.9.1","argv":["C:\\Program Files\\nodejs\\node.exe","D:\\study\\study-example\\node.js\\day07\\index"],"memoryUsage":{"rss":57397248,"heapTotal":42041344,"heapUsed":35505064}},"os":{"loadavg":[0,0,0],"uptime":2693533.7499482},"trace":[{"column":25,"file":"D:\\study\\study-example\\node.js\\day07\\modules\\posts.js","function":null,"line":99,"method":null,"native":false},{"column":23,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\util.js","function":"tryCatcher","line":16,"method":null,"native":false},{"column":31,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromiseFromHandler","line":512,"method":"_settlePromiseFromHandler","native":false},{"column":18,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromise","line":569,"method":"_settlePromise","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromise0","line":614,"method":"_settlePromise0","native":false},{"column":18,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js","function":"Promise._settlePromises","line":693,"method":"_settlePromises","native":false},{"column":16,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js","function":"Async._drainQueue","line":133,"method":"_drainQueue","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js","function":"Async._drainQueues","line":143,"method":"_drainQueues","native":false},{"column":14,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js","function":"Immediate.Async.drainQueues","line":17,"method":"drainQueues","native":false},{"column":20,"file":"timers.js","function":"runCallback","line":637,"method":null,"native":false},{"column":5,"file":"timers.js","function":"tryOnImmediate","line":610,"method":null,"native":false},{"column":5,"file":"timers.js","function":"processImmediate [as _immediateCallback]","line":582,"method":null,"native":false}],"stack":["TypeError: CommentModel.deletePostById is not a function","    at D:\\study\\study-example\\node.js\\day07\\modules\\posts.js:99:25","    at tryCatcher (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\util.js:16:23)","    at Promise._settlePromiseFromHandler (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:512:31)","    at Promise._settlePromise (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:569:18)","    at Promise._settlePromise0 (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:614:10)","    at Promise._settlePromises (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\promise.js:693:18)","    at Async._drainQueue (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js:133:16)","    at Async._drainQueues (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js:143:10)","    at Immediate.Async.drainQueues (D:\\study\\study-example\\node.js\\day07\\node_modules\\bluebird\\js\\release\\async.js:17:14)","    at runCallback (timers.js:637:20)","    at tryOnImmediate (timers.js:610:5)","    at processImmediate [as _immediateCallback] (timers.js:582:5)"],"req":{"url":"/posts/5971aaa4ed5eab35c4c9a58f/remove","headers":{"host":"localhost:3000","connection":"keep-alive","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3095.5 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8","referer":"http://localhost:3000/posts/5971aaa4ed5eab35c4c9a58f","accept-encoding":"gzip, deflate, br","accept-language":"zh-CN,zh;q=0.8","cookie":"myblog=s%3A7wynRz48wDgcOwovC7B2DA0T6Tqxd6Bd.0nZ3P%2BvlxrxgTRWlhGVI%2BgthKDpMkM%2Flgjqxc7ETNSE"},"method":"GET","httpVersion":"1.1","originalUrl":"/posts/5971aaa4ed5eab35c4c9a58f/remove","query":{}},"level":"error","message":"middlewareError","timestamp":"2017-07-21T07:27:02.868Z"}
{"date":"Fri Jul 21 2017 15:30:29 GMT+0800 (中国标准时间)","process":{"pid":2192,"uid":null,"gid":null,"cwd":"D:\\study\\study-example\\node.js\\day07","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v6.9.1","argv":["C:\\Program Files\\nodejs\\node.exe","D:\\study\\study-example\\node.js\\day07\\index"],"memoryUsage":{"rss":51982336,"heapTotal":35749888,"heapUsed":29464064}},"os":{"loadavg":[0,0,0],"uptime":2693740.7999899},"trace":[{"column":15,"file":"D:\\study\\study-example\\node.js\\day07\\routers\\posts.js","function":"router.get","line":143,"method":"get","native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js","function":"next","line":137,"method":null,"native":false},{"column":3,"file":"D:\\study\\study-example\\node.js\\day07\\middlewares\\check.js","function":"checkLogin","line":7,"method":null,"native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js","function":"next","line":137,"method":null,"native":false},{"column":3,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js","function":"Route.dispatch","line":112,"method":"dispatch","native":false},{"column":5,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":22,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":null,"line":281,"method":null,"native":false},{"column":14,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"param","line":354,"method":null,"native":false},{"column":14,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"param","line":365,"method":null,"native":false},{"column":14,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"param","line":365,"method":null,"native":false},{"column":3,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":410,"method":"process_params","native":false},{"column":10,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"next","line":275,"method":null,"native":false},{"column":3,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"Function.handle","line":174,"method":"handle","native":false},{"column":12,"file":"D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js","function":"router","line":47,"method":null,"native":false}],"stack":["TypeError: CommentModel.delCommentByPostId is not a function","    at router.get (D:\\study\\study-example\\node.js\\day07\\routers\\posts.js:143:15)","    at Layer.handle [as handle_request] (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js:95:5)","    at next (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js:137:13)","    at checkLogin (D:\\study\\study-example\\node.js\\day07\\middlewares\\check.js:7:3)","    at Layer.handle [as handle_request] (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js:95:5)","    at next (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js:137:13)","    at Route.dispatch (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\route.js:112:3)","    at Layer.handle [as handle_request] (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\layer.js:95:5)","    at D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:281:22","    at param (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:354:14)","    at param (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:365:14)","    at param (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:365:14)","    at Function.process_params (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:410:3)","    at next (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:275:10)","    at Function.handle (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:174:3)","    at router (D:\\study\\study-example\\node.js\\day07\\node_modules\\express\\lib\\router\\index.js:47:12)"],"req":{"url":"/posts/596462df4d6e472614cd804a/comment/5971ad935225e00890ab3c4f/remove","headers":{"host":"localhost:3000","connection":"keep-alive","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3095.5 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8","referer":"http://localhost:3000/posts/596462df4d6e472614cd804a","accept-encoding":"gzip, deflate, br","accept-language":"zh-CN,zh;q=0.8","cookie":"myblog=s%3A7wynRz48wDgcOwovC7B2DA0T6Tqxd6Bd.0nZ3P%2BvlxrxgTRWlhGVI%2BgthKDpMkM%2Flgjqxc7ETNSE"},"method":"GET","httpVersion":"1.1","originalUrl":"/posts/596462df4d6e472614cd804a/comment/5971ad935225e00890ab3c4f/remove","query":{}},"level":"error","message":"middlewareError","timestamp":"2017-07-21T07:30:29.919Z"}
